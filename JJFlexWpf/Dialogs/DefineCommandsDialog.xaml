<local:JJFlexDialog x:Class="JJFlexWpf.Dialogs.DefineCommandsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:JJFlexWpf"
        Title="Define Keys"
        Width="560" Height="520"
        ResizeMode="CanResize"
        MinWidth="400" MinHeight="400">

    <DockPanel Margin="8">
        <!-- Scope Tabs (5-scope system: Global, Radio, Classic, Modern, Logging) -->
        <TabControl x:Name="ScopeTabControl" DockPanel.Dock="Top" Height="30"
                    AutomationProperties.Name="Hotkey scope tabs"
                    SelectionChanged="ScopeTabControl_SelectionChanged">
            <TabItem Header="Global" AutomationProperties.Name="Global hotkeys"/>
            <TabItem Header="Radio" AutomationProperties.Name="Radio hotkeys"/>
            <TabItem Header="Classic" AutomationProperties.Name="Classic hotkeys"/>
            <TabItem Header="Modern" AutomationProperties.Name="Modern hotkeys"/>
            <TabItem Header="Logging" AutomationProperties.Name="Logging hotkeys"/>
        </TabControl>

        <!-- Bottom: buttons -->
        <StackPanel DockPanel.Dock="Bottom" Margin="0,8,0,0">
            <!-- Conflict label -->
            <TextBlock x:Name="ConflictLabel" Foreground="Red" Margin="0,0,0,4"
                       AutomationProperties.Name="Conflict info"
                       AutomationProperties.LiveSetting="Polite"/>

            <!-- Key assignment -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                <TextBox x:Name="ValueBox" Width="200" IsReadOnly="True" IsEnabled="False"
                         AutomationProperties.Name="Press key to change binding"
                         PreviewKeyDown="ValueBox_PreviewKeyDown"
                         GotFocus="ValueBox_GotFocus" LostFocus="ValueBox_LostFocus"/>
                <TextBlock x:Name="PressKeyLabel" VerticalAlignment="Center" Margin="8,0,0,0"/>
            </StackPanel>

            <!-- Action buttons -->
            <StackPanel Orientation="Horizontal">
                <Button Content="OK" MinWidth="75" Margin="0,0,8,0" IsDefault="True"
                        AutomationProperties.Name="OK" Click="OKButton_Click"/>
                <Button Content="Cancel" MinWidth="75" Margin="0,0,20,0" IsCancel="True"
                        AutomationProperties.Name="Cancel" Click="CancelButton_Click"/>
                <Button x:Name="ResetButton" Content="Reset Selected" MinWidth="100" Margin="0,0,8,0"
                        AutomationProperties.Name="Reset selected hotkey to default"
                        Click="ResetButton_Click"/>
                <Button x:Name="ResetAllButton" Content="Reset All in Tab" MinWidth="100"
                        AutomationProperties.Name="Reset all hotkeys in current tab to defaults"
                        Click="ResetAllButton_Click"/>
            </StackPanel>
        </StackPanel>

        <!-- Commands ListView (DataGrid with Key, Command, Group columns) -->
        <ListView x:Name="CommandsListView" Margin="0,4,0,0"
                  AutomationProperties.Name="Hotkey commands"
                  SelectionChanged="CommandsListView_SelectionChanged"
                  SelectionMode="Single">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Key" Width="140" DisplayMemberBinding="{Binding KeyText}"/>
                    <GridViewColumn Header="Command" Width="260" DisplayMemberBinding="{Binding HelpText}"/>
                    <GridViewColumn Header="Group" Width="100" DisplayMemberBinding="{Binding GroupText}"/>
                </GridView>
            </ListView.View>
        </ListView>
    </DockPanel>
</local:JJFlexDialog>
